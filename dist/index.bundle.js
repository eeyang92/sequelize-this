module.exports=function(t){function e(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var o={};return e.m=t,e.c=o,e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,o){"use strict";function n(t){var e={methods:{},staticMethods:{},attributes:{},staticAttributes:{},relationships:[]},o=new Set;do{if(t.prototype){Object.getOwnPropertyNames(t.prototype.constructor).filter(function(t){return"length"!==t&&"name"!==t&&"prototype"!==t&&!o.has(t)}).forEach(function(n){if("modifySchema"!==n){var r=t.prototype.constructor[n];"function"==typeof r?e.staticMethods[n]=r:e.staticAttributes[n]=r,o.add(n)}});Object.getOwnPropertyNames(t.prototype).concat(Object.getOwnPropertySymbols(t.prototype).map(function(t){return t.toString()})).filter(function(t,e,n){return"constructor"!==t&&"modifySchema"!==t&&"sequelize"!==t&&"_sqtMetadata"!==t&&(0==e||t!==n[e-1])&&!o.has(t)}).forEach(function(n){var r=t.prototype[n];"function"==typeof r?e.methods[n]=r:e.attributes[n]=r,o.add(n)}),t.prototype._sqtMetadata&&t.prototype._sqtMetadata.properties&&Object.assign(e.attributes,t.prototype._sqtMetadata.properties)}t._sqtMetadata&&t._sqtMetadata.relationships&&p(t._sqtMetadata.relationships,e.relationships).forEach(function(t){e.relationships.push(t)})}while((t=Object.getPrototypeOf(t))&&Object.getPrototypeOf(t));return e}function r(t,e,o){return void 0===o&&(o={}),function(r){var i=n(t),a=r.define(o.nameOverride?o.nameOverride:t.name,i.attributes,e);return i.relationships&&(a.associate=function(t){i.relationships.forEach(function(e){h.setRelationship(a,e.relationshipType,t.models[e.targetClass],e.options,e.overrideOptions)})}),t.modifySchema&&(a.modifySchema=t.modifySchema(a)),Object.assign(a,i.staticMethods),Object.assign(a.prototype,i.methods),a}}function i(t){e.connection=t}function a(){if(y)return y.then(function(){return e.connection});throw Error("Sequlize connection was never initiated")}function s(t,e){for(var o={},n=[],r=[e];r.length>0;)!function(){var t=r.pop();t&&f.readdirSync(t).forEach(function(e){var o=l.join(t,e);f.statSync(o).isDirectory()?r.push(o):n.push(o)})}();return n.filter(function(t){var e=t.split(/\/|\\/).pop();return!!e&&(0!==e.indexOf(".")&&"js"===e.split(".").pop())}).forEach(function(e){var n=t.import(e);o[n.name]=n}),o}function c(t,o){if(!o)throw Error("Need a schema dir!");return console.log("Initializing connection..."),y=t.authenticate().then(function(){console.log("--\x3e connection to "+t.getDialect()+" database established");var n=s(t,o);return Object.keys(n).forEach(function(e){n[e].hasOwnProperty("modifySchema")&&n[e].modifySchema(t),n[e].hasOwnProperty("associate")&&n[e].associate(t)}),e.connection=t,console.log("--\x3e "+t.getDialect()+" models loaded"),t}).catch(function(t){console.error("Unable to connect to the database:",t)})}function p(t,e){return t.filter(function(t){return 0===e.length||e.some(function(e){return!d(e,t)})})}function u(t){if(!t)throw Error("Options must be defined");if(!t.type)throw Error("Sequelize type must be defined");return function(e,o){Object.getOwnPropertyDescriptor(e,"_sqtMetadata")||(e._sqtMetadata={}),e._sqtMetadata.properties?e._sqtMetadata.properties[o]=t.type:e._sqtMetadata.properties=(i={},i[o]=t.type,i);var n=Object.getPrototypeOf(e),r=n._sqtMetadata;r&&r.properties&&Object.keys(r.properties).forEach(function(t){e._sqtMetadata.properties[t]||(e._sqtMetadata.properties[t]=r.properties[t])});var i}}Object.defineProperty(e,"__esModule",{value:!0});var f=o(1),l=o(2),d=o(3),h=o(4);e.relationships=h.default,e.connection=null;var y=null;e.classToSequelizeSchema=r,e.setConnection=i,e.getConnection=a,e.initializeSequelize=c,e.property=u},function(t,e){t.exports=require("fs")},function(t,e){t.exports=require("path")},function(t,e){t.exports=require("lodash.isequal")},function(t,e,o){"use strict";function n(t,e,o,n,r){var i=n?Object.assign({},n):{};if(r&&Object.keys(r).forEach(function(e){i[e]=r[e](t)}),!p.includes(e))throw Error("Invalid relationship type");t[e](o,i)}function r(t,e,o,n){if(!t)throw Error("Relationship Type must be defined");if(!p.includes(t))throw Error("Invalid relationship type");if(!e)throw Error("Target Class must be defined");return function(r){Object.getOwnPropertyDescriptor(r,"_sqtMetadata")||(r._sqtMetadata={}),r._sqtMetadata.relationships?r._sqtMetadata.relationships.push({relationshipType:t,targetClass:e,options:o,overrideOptions:n}):r._sqtMetadata.relationships=[{relationshipType:t,targetClass:e,options:o,overrideOptions:n}]}}function i(t,e,o){return r("hasOne",t,e,o)}function a(t,e,o){return r("hasMany",t,e,o)}function s(t,e,o){return r("belongsTo",t,e,o)}function c(t,e,o){return r("belongsToMany",t,e,o)}Object.defineProperty(e,"__esModule",{value:!0});var p=["hasOne","hasMany","belongsTo","belongsToMany"];e.setRelationship=n,e.relationship=r,e.hasOne=i,e.hasMany=a,e.belongsTo=s,e.belongsToMany=c,e.default={hasOne:i,hasMany:a,belongsTo:s,belongsToMany:c,relationship:r}}]);
//# sourceMappingURL=index.bundle.js.map